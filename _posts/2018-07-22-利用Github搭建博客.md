---
title: 利用Github搭建博客
date: 2018-07-22 23:31:30
categories:
- Git
tags:
- Github
---

记得曾经看大佬总结过，程序员写博客一般分为三个阶段:

1. 在第三方论坛写博客（CSDN、博客园、开源中国等等);
1. 自己动手搭建一个博客网站，从：购服务器(或虚拟主机) - 购域名 - 博客平台(Wordpress、帝国)搭建以及CDN加速、https认证等等，甚至自己动手写一套代码，搭建一个自己的博客网站；  
1. 觉得独立博客的管理太麻烦，最好在保留控制权的前提下，让别人来管，自己只负责写文章。

> 很荣幸，我经历这些仅仅经过七个月左右(捂脸)，这里介绍一下如何利用第三方代码仓库(我用的是Github)来搭建静态的个人博客并自定义域名。

# 一、创建博客仓库
1. 登录 GitHub 之后，在页面右上角点击 + 加号按钮，点击 New repository；
2. 填写仓库的属性，注意：这个仓库名比较特殊，**必须取名为userName.github.io**，userName为github的用户名，其他的按照一般仓库设置填写，创建；

# 二、静态博客建立
1. 进入仓库，进入设置：setting，往下拉，找到GitHub Pages设置界面，如下图：
![风尘博客](http://github.dustyblog.cn/articleImg/GitHub-website-01.jpeg)

1. 选择一个喜欢的主题， select theme，会返回到setting页面，这里直接提交即可；
2. 然后注意观察上图划痕的地址，即为创建好的博客的地址(一个github的二级域名)，这里，你可以访问该域名，即可访问你的静态博客。

到这里，一个独立博客已经建立完成！

# 三、绑定自定义域名
之前我们是通过 [https://vanDusty.github.io](https://vanDusty.github.io) 来访问个人博客主页，现在我们可以通过自己设置的域名去访问我们的主页。
## 域名解析
> 我用的是之前在阿里云购买的域名。

设置域名解析，记录类型：CNAME,主机记录记录的是你二级域名的前缀(例如：我这里是blog，我就可以通过[http://blog.dustyblog.cn](http://blog.dustyblog.cn)来访问了)，解析记录值为仓库名；
## 仓库绑定自定义域名
在仓库里添加一个文件，命名为 CNAME，文件名大写且没有后缀；文件里填写要绑定的域名(刚解析的二级域名)且不要包含http://和www (我这里填写的是blog.dustyblog.cn)。如图：
![风尘博客](http://github.dustyblog.cn/articleImg/Github-website-02.png)
然后，就可以通过自定义的二级域名来访问这个博客网站了。

# 四、本地运行博客
## 安装jekyll
安装jekyll前先按照依赖包bundler，下述命令即可安装

``` 
	gem install bundler 
```
> Mac如果出现error安装失败则使用
> `sudo gem install bundler `：sodu是赋予管理员权限

之后，直接可以通过下述命令安装jekyll

```
	gem install jekyll 
```

直到出现下面信息，则安装成功了。
``` 
Done installing documentation for public_suffix, addressable, colorator, http_parser.rb, eventmachine, em-websocket, concurrent-ruby, i18n, rb-fsevent, ffi, rb-inotify, sass-listen, sass, jekyll-sass-converter, ruby_dep, listen, jekyll-watch, kramdown, liquid, mercenary, forwardable-extended, pathutil, rouge, safe_yaml, jekyll after 79 seconds
25 gems installed
```
## 使用jekyll
1. 进入你准备安放的位置，执行下面命令创建博客：
``` 
	$ jekyll new blog 
```
1. 进入blog目录
```
	cd blog 
```
1. 执行如下命令，会根据当前目录下的Gemfile，安装所需要的所有软件。这一步所安装的东西，可以说跟github本身的环境是完全一致的，所以可以确保本地如果没有错误，上传后也不会有错误。
```
	bundle install
```

1. 使用下面命令，启动转化和本地服务：
```
	bundle exec jekyll serve 
```
1. 启动成功，输入： [http://127.0.0.1:4000/](http://127.0.0.1:4000/)，就本地运行你的博客了。

# 五、写博客文章

> 所有的文章都是 _posts 目录下面，文章格式为` mardown `格式，文章文件名可以是` .mardown  `或者` .md `结尾。

编写一篇新文章很简单，你可以直接从 _posts/ 目录下复制一份 2018-03-20-welcome-to-jekyll.mardown，修改文件名，然后修改内容即可。然后使用如下命令启动，访问[http://127.0.0.1:4000/](http://127.0.0.1:4000/)

```
	bundle exec jekyll serve 
```
本地文章修改完成后，将项目push到Github，即可部署到线上，上传代码方式，详见：[上传代码到Github的两种方式]()一文。

# 六、更换主题
这里有很多主题模板可以参考 [Jekyll Themes](http://jekyllthemes.org/)，可以从上面fork到自己的仓库中，然后close下来复制到自己的博客文件夹当中。 接下来，也是很重要的一点，因为克隆了别人的模板，所以在_config.yml文件中修改相应的信息，将模板变成自己的。

